{"version":3,"file":"resetcss.6badd0fa.js","sources":["../../vite/modulepreload-polyfill","../../../../packages/core/src/Env.ts","../../../../packages/core/src/events.ts","../../../../packages/core/src/Node.ts","../../../../packages/core/src/Page.ts","../../../../packages/core/src/utils.ts","../../../../packages/core/src/App.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2021 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass Env {\n  isIos = false;\n  isIphone = false;\n  isIpad = false;\n  isAndroid = false;\n  isAnroidPad = false;\n  isMac = false;\n  isWin = false;\n  isMqq = false;\n  isWechat = false;\n  isWeb = false;\n\n  constructor(ua = globalThis.navigator.userAgent, options: Record<string, boolean | string> = {}) {\n    this.isIphone = ua.indexOf('iPhone') >= 0;\n\n    this.isIpad = /(iPad).*OS\\s([\\d_]+)/.test(ua);\n\n    this.isIos = this.isIphone || this.isIpad;\n\n    this.isAndroid = ua.indexOf('Android') >= 0;\n\n    this.isAnroidPad = this.isAndroid && ua.indexOf('Mobile') < 0;\n\n    this.isMac = ua.indexOf('Macintosh') >= 0;\n\n    this.isWin = ua.indexOf('Windows') >= 0;\n\n    this.isMqq = /QQ\\/([\\d.]+)/.test(ua);\n\n    this.isWechat = ua.indexOf('MicroMessenger') >= 0 && ua.indexOf('wxwork') < 0;\n\n    this.isWeb = !this.isIos && !this.isAndroid && !/(WebOS|BlackBerry)/.test(ua);\n\n    Object.entries(options).forEach(([key, value]) => {\n      (this as any)[key] = value;\n    });\n  }\n}\n\nexport default Env;\n","/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2021 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 通用的事件处理\n */\n\nimport App from './App';\nimport Node from './Node';\n\nexport interface EventOption {\n  label: string;\n  value: string;\n}\n\nconst COMMON_EVENT_PREFIX = 'magic:common:events:';\nconst COMMON_METHOD_PREFIX = 'magic:common:actions:';\nconst CommonMethod = {\n  SHOW: 'show',\n  HIDE: 'hide',\n  SCROLL_TO_VIEW: 'scrollIntoView',\n  SCROLL_TO_TOP: 'scrollToTop',\n};\n\nexport const DEFAULT_EVENTS: EventOption[] = [{ label: '点击', value: `${COMMON_EVENT_PREFIX}click` }];\n\nexport const DEFAULT_METHODS: EventOption[] = [\n  { label: '显示', value: `${COMMON_METHOD_PREFIX}${CommonMethod.SHOW}` },\n  { label: '隐藏', value: `${COMMON_METHOD_PREFIX}${CommonMethod.HIDE}` },\n  { label: '滚动到该组件', value: `${COMMON_METHOD_PREFIX}${CommonMethod.SCROLL_TO_VIEW}` },\n  { label: '回到顶部', value: `${COMMON_METHOD_PREFIX}${CommonMethod.SCROLL_TO_TOP}` },\n];\n\nexport const getCommonEventName = (commonEventName: string, nodeId: string | number) => {\n  const returnName = `${commonEventName}:${nodeId}`;\n\n  if (commonEventName.startsWith(COMMON_EVENT_PREFIX)) return returnName;\n\n  return `${COMMON_EVENT_PREFIX}${returnName}`;\n};\n\nexport const isCommonMethod = (methodName: string) => methodName.startsWith(COMMON_METHOD_PREFIX);\n\n// 点击在组件内的某个元素上，需要向上寻找到当前组件\nconst getDirectComponent = (element: HTMLElement | null, app: App): Node | Boolean => {\n  if (!element) {\n    return false;\n  }\n\n  if (!element.id) {\n    return getDirectComponent(element.parentElement, app);\n  }\n\n  const node = app.page?.getNode(element.id);\n  if (!node) {\n    return false;\n  }\n\n  return node;\n};\n\nconst commonClickEventHandler = (app: App, eventName: string, e: any) => {\n  const node = getDirectComponent(e.target, app);\n\n  if (node) {\n    const { instance, data } = node as Node;\n    app.emit(getCommonEventName(eventName, data.id), instance);\n  }\n};\n\nexport const bindCommonEventListener = (app: App) => {\n  window.document.body.addEventListener('click', (e: any) => {\n    commonClickEventHandler(app, 'click', e);\n  });\n\n  window.document.body.addEventListener(\n    'click',\n    (e: any) => {\n      commonClickEventHandler(app, 'click:capture', e);\n    },\n    true,\n  );\n};\n\nexport const triggerCommonMethod = (methodName: string, node: Node) => {\n  const { instance } = node;\n\n  switch (methodName.replace(COMMON_METHOD_PREFIX, '')) {\n    case CommonMethod.SHOW:\n      instance.show();\n      break;\n\n    case CommonMethod.HIDE:\n      instance.hide();\n      break;\n\n    case CommonMethod.SCROLL_TO_VIEW:\n      instance.$el.scrollIntoView({ behavior: 'smooth' });\n      break;\n\n    case CommonMethod.SCROLL_TO_TOP:\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n      break;\n\n    default:\n      break;\n  }\n};\n","/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2021 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventEmitter } from 'events';\n\nimport { EventItemConfig, MComponent, MContainer, MPage } from '@tmagic/schema';\n\nclass Node extends EventEmitter {\n  data: MComponent | MContainer | MPage;\n  style?: {\n    [key: string]: any;\n  };\n  events?: EventItemConfig[];\n  instance?: any;\n\n  constructor(config: MComponent | MContainer) {\n    super();\n\n    const { events } = config;\n    this.data = config;\n    this.events = events;\n\n    this.listenLifeSafe();\n\n    this.once('destroy', () => {\n      this.instance = null;\n      if (typeof this.data.destroy === 'function') {\n        this.data.destroy(this);\n      }\n\n      this.listenLifeSafe();\n    });\n  }\n\n  listenLifeSafe() {\n    this.once('created', (instance: any) => {\n      this.instance = instance;\n      if (typeof this.data.created === 'function') {\n        this.data.created(this);\n      }\n    });\n\n    this.once('mounted', (instance: any) => {\n      this.instance = instance;\n      if (typeof this.data.mounted === 'function') {\n        this.data.mounted(this);\n      }\n    });\n  }\n}\n\nexport default Node;\n","/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2021 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Id, MComponent, MContainer, MPage } from '@tmagic/schema';\n\nimport Node from './Node';\ninterface ConfigOptions {\n  config: MPage;\n}\n\nclass Page extends Node {\n  nodes = new Map<Id, Node>();\n\n  constructor(options: ConfigOptions) {\n    super(options.config);\n\n    this.setNode(options.config.id, this);\n    this.initNode(options.config);\n  }\n\n  initNode(config: MComponent | MContainer) {\n    this.setNode(config.id, new Node(config));\n\n    config.items?.forEach((element: MComponent | MContainer) => {\n      this.initNode(element);\n    });\n  }\n\n  getNode(id: Id) {\n    return this.nodes.get(id);\n  }\n\n  setNode(id: Id, node: Node) {\n    this.nodes.set(id, node);\n  }\n\n  deleteNode(id: Id) {\n    this.nodes.delete(id);\n  }\n}\n\nexport default Page;\n","/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2021 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const style2Obj = (style: string) => {\n  if (typeof style !== 'string') {\n    return style;\n  }\n\n  const obj: Record<string, any> = {};\n  style.split(';').forEach((element) => {\n    if (!element) {\n      return;\n    }\n\n    const items = element.split(':');\n\n    let key = items.shift();\n    let value = items.join(':');\n\n    if (!key) return;\n\n    key = key.replace(/^\\s*/, '').replace(/\\s*$/, '');\n    value = value.replace(/^\\s*/, '').replace(/\\s*$/, '');\n\n    key = key\n      .split('-')\n      .map((v, i) => (i > 0 ? `${v[0].toUpperCase()}${v.substr(1)}` : v))\n      .join('');\n\n    obj[key] = value;\n  });\n  return obj;\n};\n\nexport const fillBackgroundImage = (value: string) => {\n  if (value && !/^url/.test(value) && !/^linear-gradient/.test(value)) {\n    return `url(${value})`;\n  }\n  return value;\n};\n","/*\n * Tencent is pleased to support the open source community by making TMagicEditor available.\n *\n * Copyright (C) 2021 THL A29 Limited, a Tencent company.  All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EventEmitter } from 'events';\n\nimport { Id, MApp } from '@tmagic/schema';\n\nimport Env from './Env';\nimport {\n  bindCommonEventListener,\n  DEFAULT_EVENTS,\n  getCommonEventName,\n  isCommonMethod,\n  triggerCommonMethod,\n} from './events';\nimport Page from './Page';\nimport { fillBackgroundImage, style2Obj } from './utils';\n\ninterface AppOptionsConfig {\n  ua?: string;\n  config?: MApp;\n  platform?: 'editor' | 'mobile' | 'tv' | 'pc';\n  jsEngine?: 'browser' | 'hippy';\n  curPage?: Id;\n  transformStyle?: (style: Record<string, any>) => Record<string, any>;\n}\n\nclass App extends EventEmitter {\n  env;\n\n  pages = new Map<Id, Page>();\n\n  page: Page | undefined;\n\n  platform = 'mobile';\n  jsEngine = 'browser';\n\n  components = new Map();\n\n  constructor(options: AppOptionsConfig) {\n    super();\n\n    this.env = new Env(options.ua);\n    options.platform && (this.platform = options.platform);\n    options.jsEngine && (this.jsEngine = options.jsEngine);\n\n    // 根据屏幕大小计算出跟节点的font-size，用于rem样式的适配\n    if (this.platform === 'mobile' || this.platform === 'editor') {\n      const calcFontsize = () => {\n        let { width } = document.documentElement.getBoundingClientRect();\n        width = Math.min(800, width);\n        const fontSize = width / 3.75;\n        document.documentElement.style.fontSize = `${fontSize}px`;\n      };\n\n      calcFontsize();\n\n      document.body.style.fontSize = '14px';\n\n      globalThis.addEventListener('resize', calcFontsize);\n    }\n\n    if (options.transformStyle) {\n      this.transformStyle = options.transformStyle;\n    }\n\n    options.config && this.setConfig(options.config, options.curPage);\n\n    bindCommonEventListener(this);\n  }\n\n  /**\n   * 将dsl中的style配置转换成css，主要是将数子转成rem为单位的样式值，例如100将被转换成1rem\n   * @param style Object\n   * @returns Object\n   */\n  transformStyle(style: Record<string, any> | string) {\n    if (!style) {\n      return {};\n    }\n\n    let styleObj: Record<string, any> = {};\n    const results: Record<string, any> = {};\n\n    if (typeof style === 'string') {\n      styleObj = style2Obj(style);\n    } else {\n      styleObj = { ...style };\n    }\n\n    const whiteList = ['zIndex', 'opacity', 'fontWeight'];\n    Object.entries(styleObj).forEach(([key, value]) => {\n      if (key === 'backgroundImage') {\n        value && (results[key] = fillBackgroundImage(value));\n      } else if (!whiteList.includes(key) && value && /^[-]?[0-9]*[.]?[0-9]*$/.test(value)) {\n        results[key] = `${value / 100}rem`;\n      } else {\n        results[key] = value;\n      }\n    });\n\n    return results;\n  }\n\n  /**\n   * 设置dsl\n   * @param config dsl跟节点\n   * @param curPage 当前页面id\n   */\n  setConfig(config: MApp, curPage?: Id) {\n    this.pages = new Map();\n\n    config.items?.forEach((page) => {\n      this.pages.set(\n        page.id,\n        new Page({\n          config: page,\n        }),\n      );\n    });\n\n    this.setPage(curPage || this.page?.data?.id);\n  }\n\n  setPage(id?: Id) {\n    let page;\n\n    if (id) {\n      page = this.pages.get(id);\n    }\n\n    if (!page) {\n      page = this.pages.get(this.pages.keys().next().value);\n    }\n\n    this.page = page;\n\n    if (this.platform !== 'magic') {\n      this.bindEvents();\n    }\n  }\n\n  registerComponent(type: string, Component: any) {\n    this.components.set(type, Component);\n  }\n\n  unregisterComponent(type: string) {\n    this.components.delete(type);\n  }\n\n  resolveComponent(type: string) {\n    return this.components.get(type);\n  }\n\n  bindEvents() {\n    if (!this.page) return;\n\n    this.removeAllListeners();\n\n    for (const [, value] of this.page.nodes) {\n      value.events?.forEach((event) => {\n        let { name: eventName } = event;\n        if (DEFAULT_EVENTS.findIndex((defaultEvent) => defaultEvent.value === eventName) > -1) {\n          // common 事件名通过 node id 避免重复触发\n          eventName = getCommonEventName(eventName, `${value.data.id}`);\n        }\n\n        this.on(eventName, (fromCpt, ...args) => {\n          if (!this.page) throw new Error('当前没有页面');\n\n          const toNode = this.page.getNode(event.to);\n          if (!toNode) throw `ID为${event.to}的组件不存在`;\n\n          const { method: methodName } = event;\n          if (isCommonMethod(methodName)) {\n            return triggerCommonMethod(methodName, toNode);\n          }\n\n          if (typeof toNode.instance?.[methodName] === 'function') {\n            toNode.instance[methodName](fromCpt, ...args);\n          }\n        });\n      });\n    }\n  }\n\n  destroy() {\n    this.removeAllListeners();\n    this.pages.clear();\n  }\n}\n\nexport default App;\n"],"names":["EventEmitter"],"mappings":"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"}